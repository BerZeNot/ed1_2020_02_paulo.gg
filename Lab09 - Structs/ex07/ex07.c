#include <stdio.h>

struct eletrodomestico{
  char nome[15];
  float potencial;
  float tempoAtivo_dia;
};

void readData(struct eletrodomestico *eletrodoms){
  for(int i=0; i<5; i++){
    printf("\nInforme os dados do %dº eletrodomestico: \n", i+1);
    setbuf(stdin, NULL);
    printf("Nome: ");
    gets(eletrodoms[i].nome);
    printf("Potencia: ");
    scanf("%f", &eletrodoms[i].potencial);
    printf("Tempo ativo por dia: ");
    scanf("%f", &eletrodoms[i].tempoAtivo_dia);
  }
}

float calculateConsumption(struct eletrodomestico *eletrodoms, float *daysUsing){
  float consumption=0;
  for(int i=0; i<5; i++){
    consumption += (eletrodoms[i].potencial * eletrodoms[i].tempoAtivo_dia);
  }
  return consumption*(*daysUsing);
}

int main(){
    printf("<< Controle de Consumo de Energia >>\n");
    struct eletrodomestico eletrodoms[5];
    float totalConsumption, daysUsing;
    readData(&eletrodoms);
    printf("\nInforme um valor de tempo (em dia): ");
    scanf("%f", &daysUsing);
    totalConsumption = calculateConsumption(&eletrodoms, &daysUsing);
    printf("Consumo total: %.0f KW\n", totalConsumption);
    printf("Consumo relativo:\n");
    for(int i=0; i<5; i++){
      float relativeConsumption=0;
      relativeConsumption = ((eletrodoms[i].potencial*eletrodoms[i].tempoAtivo_dia*daysUsing)/totalConsumption)*100;
      printf("%s %.1f%%\n", eletrodoms[i].nome, relativeConsumption);
    }

    printf("Enderecos de memoria:\n"); 
    for(int i=0; i<5; i++){
        printf("\nEnderecos %dº eletrodomestico\n", i+1);
        printf("Endereco Nome: %p\n", &eletrodoms[i].nome);
        printf("Endereco Potencia: %p\n", &eletrodoms[i].potencial);
        printf("Endereco Tempo ativo: %p\n", &eletrodoms[i].tempoAtivo_dia);
    }
    return 0;
}
/*
7.Desenhe, utilizando uma planilha eletrônica, o mapa de memória real para as variáveis
 da estrutura do exercício 6. Para isso, faça um nova cópia do projeto do exercício 6 e 
 modifique-o inserindo no final do programa um printf para o endereço de cada variável. 
 Na resposta a esse exercício coloque o código e a planilha (insira ela no documento em 
 que é apresentada a resposta da prática – não enviar arquivo separado!)

-------------------------------------------------------------------------------
Exemplo de saída:
Informe os dados do 1º eletrodomestico: 
Nome: Geladeira
Potencia: 800
Tempo ativo por dia: 24

Informe os dados do 2º eletrodomestico: 
Nome: Ar Condicionado
Potencia: 1500
Tempo ativo por dia: 8

Informe os dados do 3º eletrodomestico: 
Nome: Chuveiro
Potencia: 4500
Tempo ativo por dia: 1

Informe os dados do 4º eletrodomestico: 
Nome: Radio
Potencia: 100
Tempo ativo por dia: 6

Informe os dados do 5º eletrodomestico: 
Nome: Computador
Potencia: 750
Tempo ativo por dia: 18

Informe um valor de tempo (em dia): 30
Consumo total: 1494000 KW
Consumo relativo: 
Geladeira 38.6%
Ar Condicionado 24.1%
Chuveiro 9.0%
Radio 1.2%
Computador 27.1%

Enderecos de memoria: 

Enderecos 1º eletrodomestico
Endereco Nome: 0x7ffd81835ef0
Endereco Potencia: 0x7ffd81835f00
Endereco Tempo ativo: 0x7ffd81835f04

Enderecos 2º eletrodomestico
Endereco Nome: 0x7ffd81835f0c
Endereco Potencia: 0x7ffd81835f1c
Endereco Tempo ativo: 0x7ffd81835f20

Enderecos 3º eletrodomestico
Endereco Nome: 0x7ffd81835f28
Endereco Potencia: 0x7ffd81835f38
Endereco Tempo ativo: 0x7ffd81835f3c

Enderecos 4º eletrodomestico
Endereco Nome: 0x7ffd81835f44
Endereco Potencia: 0x7ffd81835f54
Endereco Tempo ativo: 0x7ffd81835f58

Enderecos 5º eletrodomestico
Endereco Nome: 0x7ffd81835f60
Endereco Potencia: 0x7ffd81835f70
Endereco Tempo ativo: 0x7ffd81835f74
-------------------------------------------------------------------------------

struct eletrodomestico eletrodoms[5];
Mapa de memória (altere os endereços)
+----------+----------------+---------------+------+--+
|          |     Blocos     |               |      |  |
| Endereço |       (1 byte) | Nome variável | Tipo |  |
+----------+----------------+---------------+------+--+
| 0 / NULL |   indefinido   |      ----     | ---- |  |
+----------+----------------+---------------+------+--+
|     1    | "Geladeira\0"  |  eletrodoms[0]| struct eletrodomestico|  | 
+----------+----------------+---------------+------+--+
|     2    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     3    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     4    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     5    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     6    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     7    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     8    |                |               |      |  |
+----------+----------------+---------------+------+--+
|     9    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    10    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    11    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    12    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    13    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    14    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    15    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    16    | 800            |               |      |  |
+----------+----------------+---------------+------+--+
|    17    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    18    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    19    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    20    | 24             |               |      |  |
+----------+----------------+---------------+------+--+
|    21    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    22    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    23    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    24    |"Ar Condicionado\0"|  eletrodoms[1]| struct eletrodomestico|  | 
+----------+----------------+---------------+------+--+
|    25    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    26    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    27    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    28    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    29    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    30    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    31    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    32    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    33    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    34    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    35    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    36    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    37    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    38    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    39    | 1500           |               |      |  |
+----------+----------------+---------------+------+--+
|    40    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    41    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    42    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    43    | 8              |               |      |  |
+----------+----------------+---------------+------+--+
|    44    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    45    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    46    |                |               |      |  |
+----------+----------------+---------------+------+--++----------+----------------+---------------+------+--+
|    48    | "Chuveiro\0"      |  eletrodoms[2]| struct eletrodomestico|  | 
+----------+----------------+---------------+------+--+
|    49    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    50    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    51    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    52    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    53    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    54    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    55    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    56    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    57    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    58    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    59    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    60    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    61    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    62    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    63    | 4500            |               |      |  |
+----------+----------------+---------------+------+--+
|    64    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    65    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    66    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    67    | 1              |      |  |
+----------+----------------+---------------+------+--+
|    68    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    69    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    70    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    71    | "Radio\0" |  eletrodoms[3]| struct eletrodomestico|  | 
+----------+----------------+---------------+------+--+
|    72    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    73    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    74    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    75    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    76    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    77    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    78    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    79    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    80    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    81    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    82    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    83    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    84    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    85    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    86    | 100            |               |      |  |
+----------+----------------+---------------+------+--+
|    87    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    88    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    89    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    90    | 6              |               |      |  |
+----------+----------------+---------------+------+--+
|    91    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    92    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    93    | "Computador\0" |  eletrodoms[4]| struct eletrodomestico|  | 
+----------+----------------+---------------+------+--+
|    94    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    95    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    96    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    97    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    98    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    99    |                |               |      |  |
+----------+----------------+---------------+------+--+
|    100   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    101   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    102   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    103   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    104   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    105   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    106   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    107   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    108   | 750            |               |      |  |
+----------+----------------+---------------+------+--+
|    109   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    110   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    111   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    112   | 18             |               |      |  |
+----------+----------------+---------------+------+--+
|    113   | 1494000        |totalConsumption|float|  |
+----------+----------------+---------------+------+--+
|    114   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    115   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    116   | 30             | daysUsing     | float|  |
+----------+----------------+---------------+------+--+
|    115   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    115   |                |               |      |  |
+----------+----------------+---------------+------+--+
|    115   |                |               |      |  |
+----------+----------------+---------------+------+--+
| coloque   "lx" para lixo                  |      |  |
+---------------------------+---------------+------+--+
| Programa 32   bits        |               |      |  |
+---------------------------+---------------+------+--+
totalConsumption, daysUsing;
*/